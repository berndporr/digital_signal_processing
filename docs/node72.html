<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2019.2 (Released June 5, 2019) -->
<HTML lang="EN">
<HEAD>
<TITLE>Fixed point IIR filters</TITLE>
<META NAME="description" CONTENT="Fixed point IIR filters">
<META NAME="keywords" CONTENT="digital_signal_processing">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2019.2">

<LINK REL="STYLESHEET" HREF="digital_signal_processing.css">

<LINK REL="next" HREF="node73.html">
<LINK REL="previous" HREF="node71.html">
<LINK REL="next" HREF="node73.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node73.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node67.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node71.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html418"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node73.html">Filter design based on</A>
<B> Up:</B> <A
 HREF="node67.html">IIR Filter</A>
<B> Previous:</B> <A
 HREF="node71.html">IIR filter topologies</A>
 &nbsp; <B>  <A ID="tex2html419"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A ID="SECTION00078500000000000000">
Fixed point IIR filters</A>
</H3>
Fig.&nbsp;<A HREF="node71.html#iir_fixed">23</A> shows the implementation of a fixed point IIR
filter. It's a Direct Form I filter with one accumulator so that
temporary overflows can be compensated. The original floating point
IIR coefficients are scaled up by factor <SPAN CLASS="MATH"><IMG STYLE="height: 1.64ex; vertical-align: -0.09ex; " SRC="img15.svg"
 ALT="$2^w$"></SPAN> so that they max out
the range of the integer coefficients. After the addition operation
they are shifted back by <SPAN CLASS="MATH"><IMG STYLE="height: 1.15ex; vertical-align: -0.09ex; " SRC="img14.svg"
 ALT="$w$"></SPAN>&nbsp;bits to their original values.

<P>
For example if the largest IIR coefficient is 1.9 and we use 16 bit
signed numbers (max number is 32767) then one could multiply all
coefficients with <SPAN CLASS="MATH"><IMG STYLE="height: 1.96ex; vertical-align: -0.09ex; " SRC="img406.svg"
 ALT="$2^{14}$"></SPAN>.

<P>
Then one needs to assess the maximum value in the accumulator which
is much more difficult than for FIR filters. For example,
resonators can generate high output values with even small input values
so that it's advisable to have a large overhead in the accumulator.
For example if the input signal is <SPAN CLASS="MATH"><IMG STYLE="height: 1.63ex; vertical-align: -0.09ex; " SRC="img291.svg"
 ALT="$16$"></SPAN>&nbsp;bit and the scaling factor is
<SPAN CLASS="MATH"><IMG STYLE="height: 1.63ex; vertical-align: -0.09ex; " SRC="img407.svg"
 ALT="$14$"></SPAN>&nbsp;bits then the signal will certainly occupy <SPAN CLASS="MATH"><IMG STYLE="height: 1.80ex; vertical-align: -0.27ex; " SRC="img408.svg"
 ALT="$16+14=30$"></SPAN>&nbsp;bits. With
an accumulator of 32 bits that gives only a headroom of 2&nbsp;bits so the
output can only be 4 times larger than the input. A 64 bit accumulator
is a safe bet.

<P>

<DIV class="CENTER"><A ID="butterworth_poles"></A><A ID="1736"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 24:</STRONG>
Pole placements of the Butterworth filter. Its analogue
  cutoff frequency is <!-- MATH
 $\Omega = 2\pi F$
 -->
<SPAN CLASS="MATH"><IMG STYLE="height: 1.72ex; vertical-align: -0.09ex; " SRC="img22.svg"
 ALT="$\Omega = 2\pi F$"></SPAN> where <SPAN CLASS="MATH"><IMG STYLE="height: 1.72ex; vertical-align: -0.09ex; " SRC="img3.svg"
 ALT="$F$"></SPAN> is the
  analogue cutoff frequency in Hertz. This filter can be implemented
  as a chain of 2nd order IIR filters (biquads) by using the
  complex conjugate pairs for the different 2nd order IIR filters.
</CAPTION>
<TR><TD>
<DIV class="CENTER">
<IMG STYLE=""
 SRC="img409.svg"
 ALT="\includegraphics[width=0.5\textwidth]{butterworth_poles}">

</DIV></TD></TR>
</TABLE>
</DIV>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node73.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node67.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node71.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html418"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node73.html">Filter design based on</A>
<B> Up:</B> <A
 HREF="node67.html">IIR Filter</A>
<B> Previous:</B> <A
 HREF="node71.html">IIR filter topologies</A>
 &nbsp; <B>  <A ID="tex2html419"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<a href="https://github.com/berndporr/digital_signal_processing">github / contact</a></br>
</ADDRESS>
</BODY>
</HTML>
